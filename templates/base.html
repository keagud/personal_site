{% load static %}
<!DOCTYPE html>
<html lang = "en">
  <head>
    <meta charset="utf-8">
    <title>Welcome to my Web Site!</title>
    <link rel="stylesheet" href="{% static 'core/styles/styles.css' %}">
    <link rel = "icon" type = "image/x-icon" href = "{% static 'core/favicon.ico' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header id = "page-header">
    <h1><a href = "{% url 'index' %}">implicit.computer</a></h1>
  
  <div id = "quote-box">
  <p><em id="quote"></em></p>
  </div>
  </header>
  <br>


  <section id = "page-content">
  {% block content %}
  {% endblock %}
  </section>

  
  <script>
    const quotesJson = (()=>{
          let reader = new XMLHttpRequest();
      reader.open("GET", "{% static 'quotes.json' %}",  false);
          reader.send();
          return JSON.parse(reader.responseText);
        })();

          console.log(quotesJson);

      const quoteElement = document.querySelector("#quote");

      quoteElement.textContent = (() => {
      const quotesArr = quotesJson["quotes"];
      console.table(quotesArr);
      let index = Math.floor(Math.random() * (quotesArr.length));
      console.log(quotesArr[index]);
      return quotesArr[index];
    })();
    
</script>
</body>
</html>

